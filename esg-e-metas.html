<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESG & Metas - EcoManager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/esg-e-metas.css">
    <link rel="shortcut icon" href="img/ecomanager.png" type="image/x-icon">
</head>

<body>
    <!-- Scripts do Firebase (necessários em todas as páginas protegidas) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyD1OyAxSZWLQq_uaMQJzFxxactW-sMLZ4M",
            authDomain: "ecomanager-tcc.firebaseapp.com",
            projectId: "ecomanager-tcc",
            storageBucket: "ecomanager-tcc.appspot.com",
            messagingSenderId: "807838989383",
            appId: "1:807838989383:web:21327d954d978d3f498562",
        };
        firebase.initializeApp(firebaseConfig);
        firebase.auth().onAuthStateChanged(function (user) {
            if (!user) {
                const path = window.location.pathname;
                const newPath = path.substring(0, path.lastIndexOf('/')) + '/login.html';
                window.location.href = window.location.origin + newPath;
            }
        });
    </script>

    <!-- Navbar -->
    <header>
        <nav class="navbar" id="navbar">
            <a href="index.html" class="logo">
                <img src="img/logo-nome.png" alt="EcoManager Logo">
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a class="nav-link" href="index.html">Início</a></li>
                <li><a class="nav-link" href="ferramentas.html">Calculadoras</a></li>
                <li><a class="nav-link is-active" href="esg-metas.html">ESG & Metas</a></li>
                <li><a class="nav-link" href="sobre.html">Sobre</a></li>
            </ul>
            <div class="avatar">
                <a href="profile.html" title="Meu Perfil"><i class="fas fa-user"></i></a>
            </div>
        </nav>
    </header>

    <main>
        <section class="esg-hero">
            <h1>ESG & Metas Sustentáveis</h1>
            <p>Nosso compromisso com a sustentabilidade, governança transparente e responsabilidade social.</p>
        </section>


        <!-- Indicadores -->
        <section class="indicators" id="indicadores">
            <div class="indicators-container">
                <h2>Indicadores em Tempo Real</h2>
                <p class="subtitle">Acompanhe os principais KPIs de sustentabilidade da sua empresa e tome decisões baseadas em dados.</p>
                <div class="cards">
                <div class="card">
                    <div class="indicator-icon-wrapper"><i class="fas fa-bolt"></i></div>
                    <h3>Consumo Energético</h3>
                    <p class="indicator-value"><strong>1,248</strong> kWh</p>
                    <div class="indicator-change"><span class="positive"><i class="fas fa-arrow-up"></i> +5.2%</span><span class="period">vs. mês anterior</span></div>
                </div>
                <div class="card">
                    <div class="indicator-icon-wrapper"><i class="fas fa-tint"></i></div>
                    <h3>Uso de Água</h3>
                    <p class="indicator-value"><strong>3,542</strong> m³</p>
                    <div class="indicator-change"><span class="negative"><i class="fas fa-arrow-down"></i> -8.1%</span><span class="period">economia este mês</span></div>
                </div>
                <div class="card">
                    <div class="indicator-icon-wrapper"><i class="fas fa-recycle"></i></div>
                    <h3>Material Reciclado</h3>
                    <p class="indicator-value"><strong>847</strong> kg</p>
                    <div class="indicator-change"><span class="positive"><i class="fas fa-arrow-up"></i> +12.4%</span><span class="period">vs. trimestre anterior</span></div>
                </div>
                <div class="card">
                    <div class="indicator-icon-wrapper"><i class="fas fa-desktop"></i></div>
                    <h3>TI Reaproveitada</h3>
                    <p class="indicator-value"><strong>156</strong> equipamentos</p>
                    <div class="indicator-change"><span class="positive"><i class="fas fa-arrow-up"></i> +28.6%</span><span class="period">novos equipamentos</span></div>
                </div>
                </div>
            </div>
        </section>
        <script>
            // Script de animação dos indicadores
            document.addEventListener("DOMContentLoaded", function () {
            const cards = document.querySelectorAll(".indicators .card");
            cards.forEach((card, i) => {
                setTimeout(() => {
                card.classList.add("is-visible");
                }, 200 + i * 150);
            });
            });
</script>
        <section class="esg-section">
            <!-- <div class="approach-cards">
                <div class="approach-card">
                    <div class="icon"><i class="fas fa-leaf"></i></div>
                    <div>
                        <h3>Ambiental</h3>
                        <p>Redução de emissões, gestão de recursos naturais, economia circular e energia renovável.</p>
                    </div>
                </div>
                <div class="approach-card">
                    <div class="icon"><i class="fas fa-users"></i></div>
                    <div>
                        <h3>Social</h3>
                        <p>Diversidade, inclusão, desenvolvimento da comunidade e bem-estar dos colaboradores.</p>
                    </div>
                </div>
                <div class="approach-card">
                    <div class="icon"><i class="fas fa-balance-scale"></i></div>
                    <div>
                        <h3>Governança</h3>
                        <p>Transparência, ética, compliance e estruturas de governança robustas.</p>
                    </div>
                </div>
            </div> -->

            <div id="goals-container">
                <!-- Tags e Metas serão renderizadas aqui pelo JavaScript -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn-add" id="add-tag-btn"><i class="fas fa-plus"></i> Adicionar Nova Categoria</button>
            </div>
        </section>
    </main>

    <!-- Modal para Metas -->
    <div id="goal-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Nova Meta</h2>
                <span class="close-button">&times;</span>
            </div>
            <form id="goal-form">
                <input type="hidden" id="goal-id">
                <div class="form-group">
                    <label for="goal-title">Título da Meta</label>
                    <input type="text" id="goal-title" required>
                </div>
                <div class="form-group">
                    <label for="goal-description">Descrição</label>
                    <textarea id="goal-description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="goal-tag">Categoria</label>
                    <select id="goal-tag" required></select>
                </div>
                <div class="form-group">
                    <label for="goal-progress">Meta (%)</label>
                    <input type="number" id="goal-progress" min="0" max="100" value="0" required>
                </div>
                <div class="form-group">
                    <label for="goal-deadline">Prazo</label>
                    <input type="number" id="goal-deadline" placeholder="Ex: 2025" required>
                </div>
                <button type="submit" class="btn-add">Salvar Meta</button>
            </form>
        </div>
    </div>

    <!-- Modal para Tags -->
    <div id="tag-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="tag-modal-title">Nova Categoria</h2>
                <span class="close-button">&times;</span>
            </div>
            <form id="tag-form">
                <input type="hidden" id="tag-id">
                <div class="form-group">
                    <label for="tag-name">Nome da Categoria</label>
                    <input type="text" id="tag-name" required>
                </div>
                <button type="submit" class="btn-add">Salvar Categoria</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contato">
        <div class="footer-container">
            <div class="footer-col about">
                <img src="img/logo-nome.png" alt="EcoManager Logo" class="footer-logo"
                    onerror="this.onerror=null;this.src='https://placehold.co/150x40/111827/ffffff?text=EcoManager';">
                <p>Plataforma completa para monitoramento e gestão de indicadores ESG. Dados que viram ação para um
                    futuro sustentável.</p>
                <div class="contact-info">
                    <p><i class="fas fa-envelope"></i> contato@ecomanager.com</p>
                    <p><i class="fas fa-phone"></i> +55 (11) 99999-9990</p>
                    <p><i class="fas fa-map-marker-alt"></i> São Paulo, Brasil</p>
                </div>
            </div>
            <div class="footer-col links">
                <h4>Plataforma</h4>
                <ul>
                    <li><a href="ferramentas.html">Calculadoras</a></li>
                    <li><a href="ferramentas.html#dashboards">Dashboards</a></li>
                    <li><a href="#">Relatórios</a></li>
                    <li><a href="#">ESG & Metas</a></li>
                </ul>
            </div>
            <div class="footer-col links">
                <h4>Empresa</h4>
                <ul>
                    <li><a href="sobre.html">Sobre Nós</a></li>
                    <li><a href="#">Compromisso ESG</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="contato.html">Contato</a></li>
                </ul>
            </div>
            <div class="footer-col links">
                <h4>Legal</h4>
                <ul>
                    <li><a href="#">Política de Privacidade</a></li>
                    <li><a href="#">Termos de Uso</a></li>
                    <li><a href="#">LGPD</a></li>
                    <li><a href="#">Cookies</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 EcoManager. Todos os direitos reservados.</p>
            <div class="certifications">
                <span>Certificado ISO 14001</span>
                <span>•</span>
                <span>B Corp Certified</span>
                <span>•</span>
                <span>Carbon Neutral</span>
            </div>
        </div>
    </footer>

    <script src="js/esg-e-metas.js"></script>
</body>

</html>